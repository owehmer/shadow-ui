!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@shadowui/utils",["exports","@angular/core","@angular/common","rxjs","rxjs/operators"],t):t(((e=e||self).shadowui=e.shadowui||{},e.shadowui.utils={}),e.ng.core,e.ng.common,e.rxjs,e.rxjs.operators)}(this,function(e,t,r,n,o){"use strict";function i(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}var s=function(){function e(e){this.parent=e}return Object.defineProperty(e.prototype,"styleColSpan",{get:function(){return this.colSpan?"span "+this.colSpan:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"styleRowSpan",{get:function(){return this.rowSpan?"span "+this.rowSpan:void 0},enumerable:!0,configurable:!0}),e.decorators=[{type:t.Directive,args:[{selector:"[sdwDynGridChild]"}]}],e.ctorParameters=function(){return[{type:l}]},e.propDecorators={styleColSpan:[{type:t.HostBinding,args:["style.grid-column-start"]}],styleRowSpan:[{type:t.HostBinding,args:["style.grid-row-start"]}],colSpan:[{type:t.Input}],rowSpan:[{type:t.Input}]},e}();var l=function(){function e(e,t){this._renderer=t,this.gridGap="5px",this._elemRef$=new n.BehaviorSubject(void 0),this._prefElemStyles={display:"","grid-gap":"","grid-template-columns":"","grid-template-rows":""},this._changes$=new n.Subject,this._destroyed$=new n.Subject,this.elementRef=e}return Object.defineProperty(e.prototype,"elementRef",{get:function(){return this._elemRef$.getValue()},set:function(e){this._elemRef$.next(e)},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this;n.combineLatest([this._elemRef$,this._changes$.pipe(o.auditTime(50),o.startWith(null))]).pipe(o.takeUntil(this._destroyed$)).subscribe(function(t){var r=i(t,1)[0];null!=e._prefElemRef&&Object.keys(e._prefElemStyles).forEach(function(t){e._renderer.setStyle(e._prefElemRef.nativeElement,t,e._prefElemStyles[t])}),e._prefElemRef=r,r&&(Object.keys(e._prefElemStyles).forEach(function(t){var n=r.nativeElement.style[t];e._prefElemStyles[t]=n}),e._calcStyles(r?r.nativeElement:void 0))})},e.prototype.ngOnChanges=function(e){this._changes$.next()},e.prototype.ngOnDestroy=function(){this._destroyed$.next(),this._destroyed$.complete()},e.prototype._calcStyles=function(e){if(null!=e){var r=this._colAndRowToStringArr(this.cols),n=this._colAndRowToStringArr(this.rows);this._renderer.setStyle(e,"display","grid"),this._renderer.setStyle(e,"grid-gap",this.gridGap,t.RendererStyleFlags2.DashCase),this._renderer.setStyle(e,"grid-template-columns",r.join(" "),t.RendererStyleFlags2.DashCase),this._renderer.setStyle(e,"grid-template-rows",n.join(" "),t.RendererStyleFlags2.DashCase)}},e.prototype._colAndRowToStringArr=function(e){return null==e?["1fr"]:"number"==typeof e?new Array(e).fill("1fr"):e.map(function(e){return e||"1fr"})},e.decorators=[{type:t.Directive,args:[{selector:"[sdwDynGridContainer]"}]}],e.ctorParameters=function(){return[{type:t.ElementRef,decorators:[{type:t.Self}]},{type:t.Renderer2}]},e.propDecorators={elementRef:[{type:t.Input}],gridGap:[{type:t.Input}],cols:[{type:t.Input}],rows:[{type:t.Input}],children:[{type:t.ContentChildren,args:[s]}]},e}();var a=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[l,s],imports:[r.CommonModule],exports:[l,s]}]}],e}();e.SdwDynGridContainerDirective=l,e.SdwDynGridDirective=s,e.SdwDynGridModule=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=shadowui-utils.umd.min.js.map